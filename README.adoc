= BodiesSimulation
Here is developed the first project for the Concurrent and Distributed programming course.

== Runnning JPF

If using java 8 jpf-core is already included with its jar in this repo. To run JPF on the simulation just run: `java -jar jpf-core/build/RunJPF.jar +classpath=build/classes/java/main/ TestBodiesSimulation.jpf`

Otherwise with docker on a Unix-like system:

1. `docker pull gianlucaaguzzi/pcd-jpf:latest`
2. `docker run -v $(pwd):/home -it gianlucaaguzzi/pcd-jpf:latest /bin/bash`
3. Then in the interactive shell: `java -jar $JPF ./your/path/to/file.jpf`

The dockerfile is hosted link:6[here].

== Computing the speedup

1. To get a csv under `build/libs` with the execution time of the simulation in milliseconds: `./perf_eval.sh build/libs/BodiesSimulation-1.0-all.jar <nSteps> <nBodies> <nTries>`
2. To create the graphs of speedup in a python venv using matplotlib: `python3 -m venv .venv`, `pip install -r requirements.txt`, `python3 compute_speedup.py`.
